{"version":3,"sources":["../../src/controllers/FeedController.js"],"names":["FeedController","getFeeds","req","res","result","gifs","articles","feeds","sorted","sort","a","b","Date","createdOn","getTime","error"],"mappings":";;;;;;;AAAA;;AAIA;;AAKA;;;;;AAKe,MAAMA,cAAN,CAAqB;AAClC;;;;;;;AAOA,eAAaC,QAAb,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC9B,QAAI;AACF,YAAM;AAAEC,QAAAA,MAAM,EAAEC;AAAV,UAAmB,MAAM,sBAAS,MAAT,CAA/B;AACA,YAAM;AAAED,QAAAA,MAAM,EAAEE;AAAV,UAAuB,MAAM,sBAAS,UAAT,CAAnC;AACA,YAAMC,KAAK,GAAG,CAAC,GAAGF,IAAJ,EAAU,GAAGC,QAAb,CAAd;AACA,YAAME,MAAM,GAAGD,KAAK,CAACE,IAAN,CAAW,CAACC,CAAD,EAAIC,CAAJ,KAAU,IAAIC,IAAJ,CAASD,CAAC,CAACE,SAAX,EAAsBC,OAAtB,KAAkC,IAAIF,IAAJ,CAASF,CAAC,CAACG,SAAX,EAAsBC,OAAtB,EAAvD,CAAf;AACA,aAAO,gCAAoBX,GAApB,EAAyB,GAAzB,EAA8BK,MAA9B,CAAP;AACD,KAND,CAME,OAAOO,KAAP,EAAc;AACd,aAAO,0BAAcZ,GAAd,EAAmB,GAAnB,EAAwB,cAAxB,CAAP;AACD;AACF;;AAlBiC","sourcesContent":["import {\n  errorResponse, successResponsArray\n} from '../utils';\n\nimport {\n  getItems\n} from '../database/query/helper';\n\n\n/**\n * @class FeedController\n * @description Controller to manage feeds\n * @exports FeedController\n */\nexport default class FeedController {\n  /**\n  * @method getFeeds\n  * @description - method to get all articles\n  * @param {object} req - request object\n  * @param {object} res - response object\n  * @return {object} request response body\n  */\n  static async getFeeds(req, res) {\n    try {\n      const { result: gifs } = await getItems('gifs');\n      const { result: articles } = await getItems('articles');\n      const feeds = [...gifs, ...articles];\n      const sorted = feeds.sort((a, b) => new Date(b.createdOn).getTime() - new Date(a.createdOn).getTime());\n      return successResponsArray(res, 200, sorted);\n    } catch (error) {\n      return errorResponse(res, 500, 'Server error');\n    }\n  }\n}\n"],"file":"FeedController.js"}