{"version":3,"sources":["../../../src/routes/api/user.js"],"names":["verifyAdmin","verifyToken","verifyRootUser","Authenticate","registerUser","loginUser","getUsers","UserController","router","express","Router","get","post"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAM;AAAEA,EAAAA,WAAF;AAAeC,EAAAA,WAAf;AAA4BC,EAAAA;AAA5B,IAA+CC,yBAArD;AACA,MAAM;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,SAAhB;AAA2BC,EAAAA;AAA3B,IAAwCC,2BAA9C;;AAEA,MAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;AAEA;;;;;;;AAKAF,MAAM,CAACG,GAAP,CAAW,QAAX,EAAqBV,WAArB,EAAkCD,WAAlC,EAA+CM,QAA/C;AAEA;;;;;;AAKAE,MAAM,CAACI,IAAP,CAAY,cAAZ,EAA4B,2BAAS,cAAT,CAA5B,EAAsDX,WAAtD,EAAmED,WAAnE,EAAgFI,YAAhF;AAEA;;;;;;AAKAI,MAAM,CAACI,IAAP,CAAY,mBAAZ,EAAiC,2BAAS,cAAT,CAAjC,EAA2DV,cAA3D,EAA2EE,YAA3E;AAEA;;;;;;AAKAI,MAAM,CAACI,IAAP,CAAY,SAAZ,EAAuB,2BAAS,WAAT,CAAvB,EAA8CP,SAA9C;eAEeG,M","sourcesContent":["import express from 'express';\nimport { validate, Authenticate } from '../../middlewares';\nimport { UserController } from '../../controllers';\n\nconst { verifyAdmin, verifyToken, verifyRootUser } = Authenticate;\nconst { registerUser, loginUser, getUsers } = UserController;\n\nconst router = express.Router();\n\n/*\n  @Description: endpoint for admin get all users\n  @Access: private only admin users\n  @Route: <domain>/api/v1/auth/users\n*/\nrouter.get('/users', verifyToken, verifyAdmin, getUsers);\n\n/*\n  @Description: endpoint for admin to add user\n  @Access: private only admin users\n  @Route: <domain>/api/v1/auth/create-user\n*/\nrouter.post('/create-user', validate('userRegister'), verifyToken, verifyAdmin, registerUser);\n\n/*\n  @Description: endpoint to create a root user\n  @Access: private only request with valid secret\n  @Route: <domain>/api/v1/auth/create-user-root\n*/\nrouter.post('/create-user-root', validate('userRegister'), verifyRootUser, registerUser);\n\n/*\n  @Description: endpoint for admin/employee to sign in\n  @Access: prublic any user with valid details\n  @Route: <domain>/api/v1/auth/signin\n*/\nrouter.post('/signin', validate('loginUser'), loginUser);\n\nexport default router;\n"],"file":"user.js"}