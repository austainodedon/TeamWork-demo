{"version":3,"sources":["../../../src/test/controllers/articleController.test.js"],"names":["chai","use","chaiHttp","sinonChai","expect","articleRoute","signinRoute","bearerToken","describe","before","it","done","dummyArticle","title","user","email","password","request","server","post","send","end","_","res","token","body","data","set","err","arRes","Error","to","have","status","property","field","attach","fs","readFileSync","path","resolve","payload","comment","id","route","noExisitngId","get","update","article","patch","articleId","delete","createArticle","deleteArticle","ArticleController","req","userId","params","json","sinon","stub","returnsThis","been","calledWith"],"mappings":"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","sourcesContent":["import chai from 'chai';\nimport chaiHttp from 'chai-http';\nimport fs from 'fs';\nimport path from 'path';\nimport sinon from 'sinon';\nimport sinonChai from 'sinon-chai';\nimport seedArticle from '../../database/seeds/003-article';\nimport server from '../../server';\nimport { ArticleController } from '../../controllers';\n\nchai.use(chaiHttp);\nchai.use(sinonChai);\nconst { expect } = chai;\n\nconst articleRoute = '/api/v1/articles';\nconst signinRoute = '/api/v1/auth/signin';\nlet bearerToken;\n\ndescribe('Article test suite', () => {\n  before(async () => {\n    seedArticle();\n  });\n  describe('creating article', () => {\n    it('Should check for invalid inputs', (done) => {\n      const dummyArticle = {\n        title: 'Testing my airticle',\n      };\n      const user = {\n        email: 'oliver4@gmail.com',\n        password: 'password'\n      };\n      chai.request(server).post(signinRoute).send(user).end((_, res) => {\n        const { token } = res.body.data;\n        bearerToken = `Bearer ${token}`;\n        chai.request(server).post(articleRoute).set('Authorization', bearerToken).send(dummyArticle)\n          .end((err, arRes) => {\n            if (err) throw Error('Error making request');\n            expect(arRes).to.have.status(422);\n            expect(arRes.body).to.have.property('errors');\n            done();\n          });\n      });\n    });\n    it('Should upload article', (done) => {\n      chai.request(server).post(articleRoute).set('Authorization', bearerToken)\n        .field('title', 'Testing with mocha')\n        .field('article', 'some long text')\n        .attach('image', fs.readFileSync(path.resolve('./src/test/assets/gif1.gif')), 'gif1.gif')\n        .end((err, arRes) => {\n          if (err) throw Error('Error making request');\n          expect(arRes).to.have.status(201);\n          expect(arRes.body).to.have.property('data');\n          done();\n        });\n    });\n  });\n  describe('write comment for an article', () => {\n    it('should add comment', (done) => {\n      const payload = { comment: 'hello i love your post' };\n      const id = '0a598563-5a38-4f8d-9cb7-482103559ad6';\n      const route = `${articleRoute}/${id}/comment`;\n      chai.request(server).post(route).set('Authorization', bearerToken)\n        .send(payload)\n        .end((err, arRes) => {\n          if (err) throw Error('Error making request');\n          expect(arRes).to.have.status(201);\n          expect(arRes.body).to.have.property('data');\n          done();\n        });\n    });\n    it('should not add comment for non existing postId', (done) => {\n      const noExisitngId = '0a598563-5a38-4f8d-9cb7-482103559ad98';\n      const route = `${articleRoute}/${noExisitngId}/comment`;\n      const payload = { comment: 'hello i love your post' };\n      chai.request(server).post(route).set('Authorization', bearerToken)\n        .send(payload)\n        .end((err, arRes) => {\n          if (err) throw Error('Error making request');\n          expect(arRes).to.have.status(404);\n          expect(arRes.body).to.have.property('error');\n          done();\n        });\n    });\n  });\n  describe('Getting articles', () => {\n    it('should all articles', (done) => {\n      chai.request(server).get(articleRoute).set('Authorization', bearerToken).end((err, res) => {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('data');\n        done();\n      });\n    });\n\n    it('should specific articles', (done) => {\n      const id = '0a598563-5a38-4f8d-9cb7-482103559ad6';\n      const route = `${articleRoute}/${id}`;\n      chai.request(server).get(route).set('Authorization', bearerToken).end((err, res) => {\n        expect(res).to.have.status(200);\n        expect(res.body).to.have.property('data');\n        done();\n      });\n    });\n  });\n  describe('editing article', () => {\n    it('should edit users article', (done) => {\n      const id = '0a598563-5a38-4f8d-9cb7-482103559ad6';\n      const update = {\n        title: 'some new title',\n        article: 'some new article'\n      };\n      chai.request(server).patch(`${articleRoute}/${id}`).set('Authorization', bearerToken).send(update)\n        .end((err, arRes) => {\n          if (err) throw Error('Error making request');\n          expect(arRes).to.have.status(200);\n          expect(arRes.body).to.have.property('data');\n          done();\n        });\n    });\n    it('should not edit article of another user', (done) => {\n      const id = '59403e37-5ea7-44b0-9606-bafe179f6e05';\n      const update = {\n        title: 'some new title',\n        article: 'some new article'\n      };\n      chai.request(server).patch(`${articleRoute}/${id}`).set('Authorization', bearerToken).send(update)\n        .end((err, arRes) => {\n          if (err) throw Error('Error making request');\n          expect(arRes).to.have.status(403);\n          expect(arRes.body).to.have.property('error');\n          done();\n        });\n    });\n  });\n  describe('Deleting article', () => {\n    it('should deleted an article with id', (done) => {\n      const articleId = '9c291e0d-5183-40dc-9c8c-20be7dd70479';\n      chai.request(server).delete(`${articleRoute}/${articleId}`).set('Authorization', bearerToken).end((err, res) => {\n        expect(res).to.have.status(200);\n        done();\n      });\n    });\n    it('should not deleted article belonging to another user', (done) => {\n      const articleId = '59403e37-5ea7-44b0-9606-bafe179f6e05';\n      chai.request(server).delete(`${articleRoute}/${articleId}`).set('Authorization', bearerToken).end((err, res) => {\n        expect(res).to.have.status(403);\n        done();\n      });\n    });\n  });\n  describe('Error Catching', () => {\n    const { createArticle, deleteArticle } = ArticleController;\n    it('Controller should handle error', async () => {\n      const req = {\n        user: { userId: '11111' },\n        params: { id: 'none valid id' },\n        body: {\n          title: 'some title'\n        }\n      };\n      const res = {\n        status: () => { },\n        json: () => { },\n      };\n      sinon.stub(res, 'status').returnsThis();\n      await createArticle(req, res);\n      expect(res.status).to.have.been.calledWith(500);\n    });\n    it('Controller should catch invalid image request', async () => {\n      const req = {\n        user: { userId: '11111' },\n        params: { id: 'none valid id' },\n        body: {\n          title: 'some title'\n        }\n      };\n      const res = {\n        status: () => { },\n        json: () => { },\n      };\n      sinon.stub(res, 'status').returnsThis();\n      await createArticle(req, res);\n      expect(res.status).to.have.been.calledWith(500);\n    });\n    it('Should handle error for deleteArticle', async () => {\n      const req = {};\n      const res = {\n        status: () => { },\n        json: () => { },\n      };\n      sinon.stub(res, 'status').returnsThis();\n      await deleteArticle(req, res);\n      expect(res.status).to.have.been.calledWith(500);\n    });\n  });\n});\n"],"file":"articleController.test.js"}